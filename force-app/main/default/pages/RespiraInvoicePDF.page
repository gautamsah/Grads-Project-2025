<apex:page controller="RESHotelInvoiceController" renderAs="pdf"  applyBodyTag="false" showHeader="false" applyHtmlTag="false">
    <head>
        <style>
            body { font-family: sans-serif; }
            .header-table { width: 100%; margin-bottom: 20px; }
            .hotel-info { font-size: 10pt; }
            .order-info-table { width: 100%; margin-bottom: 15px; }
            .item-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
            .item-table th, .item-table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            .total-table { width: 40%; float: right; }
            .total-table tr td { padding: 5px; text-align: right; }
            .grand-total-row { font-weight: bold; border-top: 2px solid #000; }
            .terms-conditions { font-size: 8pt; margin-top: 30px; }
            .order-summary { margin-top: 20px; }
        </style>
    </head>
    <body>
        <table class="header-table">
            <tr>
                <td>
                    <apex:image value="{!$Resource.respiraLogo}" width="150"/>
                </td>
                <td style="text-align: right;">
                    <div style="font-size: 16pt; font-weight: bold;">Tax Invoice</div>
                </td>
            </tr>
        </table>

        <div class="hotel-info">
             
                <apex:outputPanel rendered="{!NOT(ISNULL(orderItemWrappers[0].orderItem.Product2.Hotel__r))}">
                    <!-- <div style="font-size: 2em; margin-bottom: 10px;"><strong>Trial Hotel</strong></div> -->
                    <div style="font-size: 2em; margin-bottom: 10px;"><strong>{!orderItemWrappers[0].orderItem.Product2.Hotel__r.Name}</strong></div>
                    <!-- <div style="font-size: 1.3em; margin-bottom: 3px;"><strong>Hotel Address:</strong> trail hotel addrss</div> -->
                    <div style="font-size: 1.3em; margin-bottom: 3px;"><strong>Hotel Address:</strong> {!orderItemWrappers[0].orderItem.Product2.Hotel__r.Address__c}</div>
                    <!-- <div style="font-size: 1.3em; margin-bottom: 3px;"><strong>Hotel Email:</strong> trailemail@test.com</div> -->
                    <div style="font-size: 1.3em; margin-bottom: 3px;"><strong>Hotel Email:</strong> {!orderItemWrappers[0].orderItem.Product2.Hotel__r.Email__c}</div>
                    <!-- <div style="font-size: 1.3em; margin-bottom: 10px;"><strong>Hotel Phone:</strong>435527435</div> -->
                    <div style="font-size: 1.3em; margin-bottom: 10px;"><strong>Hotel Phone:</strong> {!orderItemWrappers[0].orderItem.Product2.Hotel__r.Phone__c}</div>
                </apex:outputPanel>
                <apex:outputPanel rendered="{!ISNULL(orderItemWrappers[0].orderItem.Product2.Hotel__r)}">
                    <div style="font-size: 1.3em; margin-bottom: 10px;"><strong>Hotel Information Not Available</strong></div>
                </apex:outputPanel>
           
            <apex:outputPanel rendered="{!ISNULL(orderItemWrappers) || ISBLANK(orderItemWrappers)}">
                <div style="font-size: 1.3em; margin-bottom: 10px;"><strong>No Items in this Order</strong></div>
            </apex:outputPanel>
        </div>

        <table class="order-info-table" style="width: 100%;">
            <tr>
                <td style="width: 70%; vertical-align: top;">
                    <apex:outputPanel rendered="{!NOT(ISNULL(currentOrder))}">
                        <div><strong>Order ID:</strong> <apex:outputText value="{!currentOrder.OrderNumber}"/></div>
                        <div><strong>Order Date:</strong> <apex:outputText value="{0,date,dd-MM-yyyy}"><apex:param value="{!currentOrder.CreatedDate}"/></apex:outputText></div>
                    </apex:outputPanel>
                    <apex:outputPanel rendered="{!ISNULL(currentOrder)}">
                        <div><strong>Error:</strong> Order not found.</div>
                    </apex:outputPanel>
                </td>
                <td style="width: 30%; text-align: left; vertical-align: top;">
                    <apex:outputPanel rendered="{!NOT(ISNULL(currentOrder))}">
                        <div style="font-weight: bold;">Guest Information:</div>
                        <div>{!currentOrder.Guest_First_Name__c} {!currentOrder.Guest_Last_Name__c}</div>
                        <div>{!currentOrder.Guest_Email__c}</div>
                        <div>{!currentOrder.Guest_Phone__c}</div>
                    </apex:outputPanel>
                </td>
            </tr>
        </table>

        <table class="item-table">
            <thead>
                <tr>
                    <th>Room Name</th>
                    <th>Quantity</th>
                    <th>Check-in</th>
                    <th>Check-out</th>
                    <th style="text-align: right;">Total</th>
                </tr>
            </thead>
            <tbody>
                <apex:repeat value="{!orderItemWrappers}" var="item">
                    <tr>
                        <td><apex:outputText value="{!item.orderItem.Product2.Name}"/></td>
                        <td><apex:outputText value="{!item.orderItem.Quantity}"/></td>
                        <td><apex:outputText value="{0,date,dd-MM-yyyy}"><apex:param value="{!item.orderItem.checkin__c}"/></apex:outputText></td>
                        <td><apex:outputText value="{0,date,dd-MM-yyyy}"><apex:param value="{!item.orderItem.checkout__c}"/></apex:outputText></td>
                        <td style="text-align: right;"><apex:outputText value="{!item.orderItem.TotalPrice}"/></td>
                    </tr>
                </apex:repeat>
            </tbody>
        </table>

        <table class="total-table">
            <tr class="grand-total-row">
                <td>Grand Total:</td>
                <td><apex:outputText value="{!currentOrder.TotalAmount}"/></td>
            </tr>
        </table>
        <br></br>

    <hr style="margin-top: 30px; border: 1px solid #ddd;"/>
    <div class="terms-conditions" style="text-align: center;">
        <h3>Terms and Conditions</h3>
        <ul style="text-align: left; list-style-type: disc; padding-left: 20px;">
            <li>Payment is due upon receipt of this invoice.</li>
            <li>Cancellation policies apply as per your booking agreement.</li>
            <li>Please present a valid government-issued ID at check-in.</li>
            <li>Any damages to the property will be charged accordingly.</li>
            <li>Rates are subject to change without prior notice.</li>
        </ul>
    </div>

    </body>
</apex:page>